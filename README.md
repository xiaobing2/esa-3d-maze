# 🎮 3D 数据迷城

> **本项目由阿里云ESA提供加速、计算和保护**

## 📖 项目简介

**3D 数据迷城** 是一款基于 Vue 3 + Three.js 开发的创新 3D 迷宫游戏。玩家需要在随机生成的 3D 迷宫中收集算法碎片，最终到达终点完成挑战。游戏支持实时排行榜，利用 ESA 边缘函数实现低延迟的数据交互。

### 核心功能

- 🎮 **3D 迷宫探索**：使用 Three.js 构建的沉浸式 3D 迷宫场景
- 🧩 **算法碎片收集**：在迷宫中收集金色碎片，完成挑战
- ⏱️ **实时计时**：记录通关时间，挑战最佳成绩
- 🏆 **排行榜系统**：通过 ESA 边缘函数实现的实时排行榜
- 📱 **多端支持**：支持桌面端（键盘控制）和移动端（触摸控制）
- 🎨 **精美画面**：3D 渲染、光影效果、粒子动画

## 🛠️ 技术栈

- **前端框架**：Vue 3 + TypeScript + Vite
- **3D 引擎**：Three.js
- **状态管理**：Pinia
- **边缘计算**：阿里云 ESA 边缘函数
- **部署平台**：阿里云 ESA Pages

## 🚀 快速开始

### 环境要求

- Node.js >= 18.0.0
- npm >= 8.0.0

### 安装步骤

1. **克隆项目**
```bash
git clone <your-repo-url>
cd esa-3d-maze
```

2. **安装依赖**
```bash
npm install
```

3. **配置环境变量**

创建 `.env` 文件：
```env
# 边缘函数 URL（如果未配置，将使用模拟模式）
VITE_EDGE_FUNCTION_URL=/api
```

**注意**：如果边缘函数未部署，系统会自动使用模拟模式，方便本地开发和测试。

4. **启动开发服务器**
```bash
npm run dev
```

5. **构建生产版本**
```bash
npm run build
```

## 📦 部署到阿里云 ESA Pages

### 部署步骤

1. **准备代码仓库**
   - 将代码推送到 GitHub 公开仓库

2. **部署边缘函数**
   - 在 ESA 控制台创建边缘函数
   - 将 `edge-function/maze.js` 和 `edge-function/rank.js` 部署到边缘节点
   - 获取边缘函数的访问 URL

3. **在 ESA Pages 创建站点**
   - 登录 [阿里云 ESA 控制台](https://esa.console.aliyun.com/)
   - 进入「Pages」服务
   - 点击「新建站点」，选择「GitHub 仓库」
   - 连接你的 GitHub 账号并选择仓库

4. **配置构建设置**
   - **构建命令**：`npm install && npm run build`
   - **输出目录**：`dist`
   - **Node 版本**：选择 18.x 或更高

5. **配置环境变量**
   - 在 ESA Pages 站点设置中添加：
     - `VITE_EDGE_FUNCTION_URL`（边缘函数的访问 URL）

6. **部署**
   - 点击「部署」按钮
   - 等待构建完成
   - 获取部署后的访问 URL

## 🎯 游戏说明

### 操作方式

**桌面端**：
- `WASD` 或 `方向键`：移动
- `Q/E`：左右旋转视角
- `ESC`：暂停游戏

**移动端**：
- 触摸屏幕滑动：移动和旋转视角

### 游戏规则

1. **目标**：收集所有算法碎片（金色方块），然后到达终点
2. **计时**：从开始游戏到通关的时间会被记录
3. **评分**：收集碎片可以获得分数，通关时间越短分数越高
4. **排行榜**：通关后可以提交成绩，查看全球排行榜

## 📊 作品说明（ESA 大赛）

### 创意卓越

- **独特概念**：将 3D 游戏与 ESA 边缘计算结合，创造创新的游戏体验
- **视觉设计**：精美的 3D 场景，流畅的动画效果，沉浸式游戏体验
- **交互创新**：支持多端操作，实时排行榜，社交化游戏体验

### 应用价值

- **娱乐性强**：有趣的 3D 迷宫探索游戏，适合休闲娱乐
- **技术展示**：展示 Three.js 3D 渲染能力和 ESA 边缘计算优势
- **部署即用**：基于 ESA Pages 和边缘函数，部署简单，开箱即用
- **边缘加速**：利用全球边缘节点，实现低延迟排行榜查询和提交

### 技术探索

- **3D 渲染**：使用 Three.js 实现复杂的 3D 场景和交互
- **边缘计算**：充分利用 ESA 边缘函数，实现排行榜数据管理
- **TypeScript**：使用 TypeScript 提升代码质量和可维护性
- **现代化技术栈**：Vue 3 + Pinia + Three.js，技术实现规范，代码结构清晰

## 🔒 安全说明

- 排行榜数据通过 ESA 边缘函数管理，确保数据安全
- 用户输入进行验证和限制，防止恶意数据
- 建议在生产环境使用 OSS 或数据库存储排行榜数据

## 📝 注意事项

1. **性能优化**：3D 渲染对性能要求较高，建议使用现代浏览器
2. **边缘函数配置**：需要正确配置边缘函数的路由和权限
3. **网络环境**：确保能正常访问 ESA 边缘函数服务
4. **浏览器兼容**：建议使用 Chrome、Firefox、Safari 等现代浏览器

## 📄 许可证

本项目为参赛作品，遵循 ESA 大赛相关规定。

## 🙏 致谢

- [阿里云 ESA](https://www.aliyun.com/product/esa) - 提供边缘加速和部署平台
- [Three.js](https://threejs.org/) - 优秀的 3D 图形库
- [Vue.js](https://vuejs.org/) - 优秀的前端框架
- [Pinia](https://pinia.vuejs.org/) - 优秀的状态管理库

---

**本项目由阿里云ESA提供加速、计算和保护**
